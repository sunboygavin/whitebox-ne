!
! FRRouting configuration file for WhiteBox NE
!
! This configuration demonstrates OSPF, BGP (with SRv6 and Flowspec), and VRRP.
!
version 8.1
hostname whitebox-ne
log file /var/log/frr/frr.log debugging
service integrated-vtysh-config
!
! Manus AI Modification: Enable AgentX for SNMP integration
! This allows FRR to register its MIBs with the Net-SNMP daemon.
agentx
!

! Interface Configuration
interface lo
 ip address 127.0.0.1/8
 ipv6 address ::1/128
 ipv6 address 2001:db8:1::1/64
! This is a dummy interface for demonstration. In a real setup, you'd configure physical interfaces.
interface eth0
 ip address 192.168.10.1/24
 ipv6 address 2001:db8:a::1/64
 no shutdown
!
! VRRP Configuration on eth0
interface eth0
 vrrp 1
  priority 100
  advertisement-interval 1
  preempt
  address 192.168.10.254/24
  ipv6 address 2001:db8:a::ff/64
!

! OSPF Configuration
router ospf
 ospf router-id 1.1.1.1
 network 192.168.10.0/24 area 0.0.0.0
 passive-interface default
 no passive-interface eth0
!

! BGP Configuration
router bgp 65000
 bgp router-id 1.1.1.1
 no bgp default ipv4-unicast

 ! BGP Neighbor (simulated)
 neighbor 2001:db8:b::2 remote-as 65001
 neighbor 2001:db8:b::2 update-source eth0

 ! IPv6 Unicast Address Family for SRv6
 address-family ipv6 unicast
  neighbor 2001:db8:b::2 activate
  neighbor 2001:db8:b::2 send-label
  ! Manus AI Modification: Advertise a dummy SRv6 prefix
  network 2001:db8:1::/64
 exit-address-family

 ! Flowspec Address Family
 address-family ipv4 flowspec
  neighbor 2001:db8:b::2 activate
  ! Manus AI Modification: Example Flowspec rule advertisement
  ! This rule would typically be received from a controller or another router.
  ! Here we simulate advertising one.
  flowspec rule example-flow
   match destination-prefix 192.168.1.1/32
   then discard
  exit-flowspec
 exit-address-family

 address-family ipv6 flowspec
  neighbor 2001:db8:b::2 activate
  flowspec rule ipv6-example-flow
   match destination-prefix 2001:db8:c::1/128
   then redirect ip next-hop 2001:db8:d::1
  exit-flowspec
 exit-address-family
!

! SRv6 Configuration
segment-routing srv6
 ! Manus AI Modification: Define a SRv6 Locator
 ! This is crucial for SRv6 functionality.
 locator loc1 2001:db8:1::/64
  encapsulation srv6
  behavior end
  ! Manus AI Modification: Define a simple End.X SID for demonstration
  ! In a real deployment, you'd have more complex SID definitions.
  sid 2001:db8:1::1 end
 exit-locator
!

! End of configuration
